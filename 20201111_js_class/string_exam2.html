<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="../css/public.css">
<style>
</style>
<script type="text/javascript">
	function proc1() {
		//입력
		input = prompt("주민번호 입력하세요 숫자만");

		//추출

		ipnut = input.split("");

		res = "입력값 : " + input + "<br>";

		//각자리별 추출
		//		for (var i = 0; i < input.length; i++) {
		//		res += (i) + " 번째 : " + input[i] + "<br>";
		//		}

		//성별 비교
		s4 = input.substring(7, 8);
		//성별 비교 s4가 1,3 남자 2,4 여자
		if (s4 == 1 || s4 == 3) {
			gender = "남자";
			res += "성별 : " + gender + "<br>";
		} else if (s4 == 2 || s4 == 4) {
			gender = "여자";
			res += "성별 : " + gender + "<br>";
		}

		//년도 비교 s4가 1,2이면 1900 3,4이면 2000
		//	if(){ yy=1900;}else if(){yy=2000;}
		if (s4 == 1 || s4 == 2) {
			year = 1900 + parseInt(input.substring(0, 2));
			mmdd = input.substring(2, 6);
			res += "생년월일 : " + year + mmdd + "<br>";
		} else if (s4 == 3 || s4 == 4) {
			year = 2000 + parseInt(input.substring(0, 2));
			mmdd = input.substring(2, 6);
			res += "생년월일 : " + year + mmdd + "<br>";
		}
		//나이출력 
		today = new Date();
		tyear = today.getFullYear();
		res += "나이 : " + (tyear - year + 1);

		//생년월일 출력
		//	res = yyyymmdd
		//성별 출력
		//	res += gender;
		//나이 출력
		//	res += age;
		//result1 에 res 출력한다.
		document.getElementById('result1').innerHTML = res;
	}

	function proc2() {
		input = prompt("주민번호 입력하세요", "-는 빼고 입력");

		str = "234567892345";
		sum = 0;
		for (var i = 0; i < input.length; i++) {
			sum += input.substr(i, 1) * str.substr(i, 1);
		}

		result = 11 - sum % 11;
		//if (result == 10) {
		//result = 0;
		//} else if (result == 11) {
		//result = 1;
		//}
		///
		//입력값(주민번호 출력 ) 110223-2******
		input2 = input.substring(0, 6);
		input3 = input.substr(6, 1);
		res = `주민번호 : ${input2}-${input3}****** <br> `;

		result = result % 10;
		if (result == input.charAt(12)) {
			res += "올바른 번호입니다.";
		} else {
			res += "올바르지 않은 번호입니다.";
		}
		document.getElementById('result2').innerHTML = res;
	}
</script>
</head>
<body>

	<div class="box">
		<h3>String 객체 문제1a</h3>
		주민등록번호를 입력 받아 생년월일과 성별을 출력하는<br> 프로그램을 작성하시오.(입력은 prompt로 입력받는다.)<br>
		∙ 예) 주민등록번호를 1103264432618로 입력 받은 경우<br> ∙ 생일 : 20110326<br>
		∙ 성별 : 여자<br>나이:<br> <input type="button" value="문제1"
			onclick="proc1()"> <br> <br>
		<div id="result1"></div>
	</div>


	<div class="box">
		<h3>String 객체 문제2a</h3>
		∙ 주민등록번호를 입력 받아 주민등록번호의 <br>유효성을 검사하는 프로그램을
		작성하시오.(ABCDEF-GHIJKLM)<br> 1. A*2 + B*3 + ... + H*9 + I*2 + ... +
		L*5 의 총합을 구한다.<br> 2. 1번의 합을 11로 나눈 나머지를 구한다.<br> 3. 11에서
		2번의 결과를 뺀다.<br> 4. 3번의 결과가 0~9이면 값 그대로, 10이면 0, 11이면 1로 변환<br>
		5. 4번의 결과와 M자리의 값이 같으면 맞는 번호이다.<br> <br> <input
			type="button" value="문제2" onclick="proc2()"> <br> <br>
		<div id="result2"></div>
	</div>

</body>
</html>